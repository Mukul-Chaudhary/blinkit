{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  carts: []\n};\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    addCart: (state, action) => {\n      const newItem = {\n        item: action.payload.item,\n        img: action.payload.img,\n        type: action.payload.type,\n        quantity: action.payload.quantity,\n        sellingPrice: action.payload.sellingPrice,\n        deliveryTime: action.payload.deliveryTime,\n        selectedItem: 1\n      };\n      const existingItem = state.carts.find(cart => cart.item === newItem.item && cart.type === newItem.type);\n      if (existingItem) {\n        existingItem.selectedItem++;\n      } else {\n        state.carts.push(newItem);\n      }\n    },\n    removeCart: (state, action) => {\n      const newItem = {\n        item: action.payload.item,\n        img: action.payload.img,\n        type: action.payload.type,\n        quantity: action.payload.quantity,\n        sellingPrice: action.payload.sellingPrice,\n        deliveryTime: action.payload.deliveryTime,\n        selectedItem: 0\n      };\n      const existingItemIndex = state.carts.findIndex(cart => cart.item === newItem.item && cart.type === newItem.type);\n      if (existingItemIndex !== -1) {\n        state.carts[existingItemIndex].selectedItem--;\n        if (state.carts[existingItemIndex].selectedItem === 0) {\n          state.carts.splice(existingItemIndex, 1); // Remove the item if selectedItem is 0.\n        }\n      }\n    },\n\n    returnItemCount: (state, action) => {\n      const newItem = {\n        item: action.payload.item,\n        type: action.payload.type\n      };\n      const existingItem = state.carts.find(cart => cart.item === newItem.item && cart.type === newItem.type);\n      if (existingItem) {\n        return existingItem.selectedItem;\n      }\n      return 0; // Return 0 if the item is not found.\n    }\n  }\n});\n\nexport const {\n  addCart,\n  removeCart,\n  returnItemCount\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","carts","cartSlice","name","reducers","addCart","state","action","newItem","item","payload","img","type","quantity","sellingPrice","deliveryTime","selectedItem","existingItem","find","cart","push","removeCart","existingItemIndex","findIndex","splice","returnItemCount","actions","reducer"],"sources":["/home/mukulchaudhary/Downloads/blinkit23Oct (1) (1)/blinkit23Oct (1)/blinkit23Oct/src/features/mycart/MyCartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  carts: [],\n};\n\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    addCart: (state, action) => {\n      const newItem = {\n        item: action.payload.item,\n        img: action.payload.img,\n        type: action.payload.type,\n        quantity: action.payload.quantity,\n        sellingPrice: action.payload.sellingPrice,\n        deliveryTime: action.payload.deliveryTime,\n        selectedItem: 1,\n      };\n\n      const existingItem = state.carts.find(\n        (cart) => cart.item === newItem.item && cart.type === newItem.type\n      );\n\n      if (existingItem) {\n        existingItem.selectedItem++;\n      } else {\n        state.carts.push(newItem);\n      }\n    },\n    removeCart: (state, action) => {\n      const newItem = {\n        item: action.payload.item,\n        img: action.payload.img,\n        type: action.payload.type,\n        quantity: action.payload.quantity,\n        sellingPrice: action.payload.sellingPrice,\n        deliveryTime: action.payload.deliveryTime,\n        selectedItem: 0,\n      };\n\n      const existingItemIndex = state.carts.findIndex(\n        (cart) => cart.item === newItem.item && cart.type === newItem.type\n      );\n\n      if (existingItemIndex !== -1) {\n        state.carts[existingItemIndex].selectedItem--;\n        if (state.carts[existingItemIndex].selectedItem === 0) {\n          state.carts.splice(existingItemIndex, 1); // Remove the item if selectedItem is 0.\n        }\n      }\n    },\n    returnItemCount: (state, action) => {\n      const newItem = {\n        item: action.payload.item,\n        type: action.payload.type,\n      };\n\n      const existingItem = state.carts.find(\n        (cart) => cart.item === newItem.item && cart.type === newItem.type\n      );\n\n      if (existingItem) {\n        return existingItem.selectedItem;\n      }\n\n      return 0; // Return 0 if the item is not found.\n    },\n  },\n});\n\nexport const { addCart, removeCart, returnItemCount } = cartSlice.actions;\n\nexport default cartSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}